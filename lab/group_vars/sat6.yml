---
# MOTD vars
role: Dev Satellite {{ satellite_version }}

# We need Satellite to register directly to CDN
register_with_cdn: true
cdn_product: Red Hat Satellite

redhat_repositories:
  - rhel-7-server-rpms
  - rhel-7-server-optional-rpms
  - rhel-server-rhscl-7-rpms
  - rhel-7-server-satellite-{{ satellite_version }}-rpms

enable_epel: no

satellite_device: /dev/vdb
satellite_volumes:
  - { lv: pgsql, size: 10g, mount: /var/lib/pgsql }
  - { lv: mongodb, size: 50g, mount: /var/lib/mongodb }
  - { lv: pulp, size: 150g, mount: /var/lib/pulp }
  - { lv: qpidd, size: 5g, mount: /var/lib/qpidd }

# Extra features to enable
satellite_features:
  - tftp

# Sat6 deployment vars
satellite_fqdn: "{{ lookup('dig', ansible_nodename) }}"
satellite_organization: "MyOrg"
satellite_location: "Home"
satellite_admin_password: "{{ vault_satellite_admin_password }}"

# Certs
satellite_use_custom_cert: yes
satellite_ssl_ca_path: /etc/pki/ca-trust/source/anchors
satellite_ssl_cert_path: /etc/pki/tls/certs
satellite_ssl_key_path: /etc/pki/tls/private
satellite_ssl_cert: wildcard.lab.home.gatwards.org.pem
satellite_ssl_csr: wildcard.lab.home.gatwards.org.csr
satellite_ssl_ca: GatwardIT-chain.pem
satellite_ssl_key: "{{ vault_satellite_ssl_key }}"

# Repos to enable
satellite_repositories:
#  - { product_name: 'Red Hat Enterprise Linux Server', name_repo: 'Red Hat Enterprise Linux 7 Server (Kickstart)', rel: '7Server', architecture: 'x86_64', state: enable}
  - { product_name: 'Red Hat Enterprise Linux Server', name_repo: 'Red Hat Enterprise Linux 7 Server Kickstart x86_64 7.6', architecture: 'x86_64', state: enable}
  - { product_name: 'Red Hat Enterprise Linux Server', name_repo: 'Red Hat Enterprise Linux 7 Server (RPMs)', rel: '7Server', architecture: 'x86_64', state: enable}
  - { product_name: 'Red Hat Enterprise Linux Server', name_repo: 'Red Hat Enterprise Linux 7 Server - RH Common (RPMs)', rel: '7Server', architecture: 'x86_64', state: enable}
  - { product_name: 'Red Hat Enterprise Linux Server', name_repo: 'Red Hat Enterprise Linux 7 Server - Optional (RPMs)', rel: '7Server', architecture: 'x86_64', state: enable}
  - { product_name: 'Red Hat Enterprise Linux Server', name_repo: 'Red Hat Enterprise Linux 7 Server - Supplementary (RPMs)', rel: '7Server', architecture: 'x86_64', state: enable}
  - { product_name: 'Red Hat Enterprise Linux Server', name_repo: 'Red Hat Satellite Tools {{ satellite_version }} (for RHEL 7 Server) (RPMs)', architecture: 'x86_64', state: enable}
  - { product_name: 'Red Hat Enterprise Linux Server', name_repo: 'Red Hat Enterprise Linux 7 Server - Extras (RPMs)', architecture: 'x86_64', state: enable}
